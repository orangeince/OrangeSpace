---
layout: post
title:  "《Head First 设计模式》day1 手记"
date:   2018-02-22
category:  "Design Pattern"
tag: "Design Pattern"
---
## 设计原则之一
**找出一应用中可能需要变化之处，把它们独立出来，不要和那些不需要变化的代码混在一起**
> 把会变化的部分取出并“封装”起来，好让其他部分不会受到影响。
结果如何？代码变化引起的不经意后果变少，系统变得更有弹性

另一种思考方式“把会变化的部分取出并封装起来，以便以后可以轻易的改动或扩充此部分，而不影响不需要变化的其他部分”

## 设计原则之二
**针对接口编程，而不是针对实现编程**
> 这里所说的“接口”有多个含义，接口是一个“概念”，针对接口编程，关键就在多态。利用多态，程序可以针对超类型编程，执行时会根据实际状况执行到真正的行为。“针对超类型编程”这句话，可以更明确地说成“变量的声明类型应该是超类型，通常是一个抽象类或者是一个接口(protocol)“

## 设计原则之三
**多用组合，少用继承**

## 策略模式
定义了算法族，分别封装起来，让它们之间可以相互替换，此模式让算法的变化独立于使用算法的客户。

## 要点
- 知道OO基础（抽象，封装，继承，多态），并不足以让你设计出良好的OO系统
- 良好的OO设计必须具备可复用、可扩展、可维护三个特性
- 模式可以让我们建造出具有良好OO设计质量的系统
- 模式被认为是历经验证的OO设计经验
- 模式不是代码，而是针对设计问题的通用解决方案。你可把它们应用到特定的应用中
- 模式不是被发明，而是被发现
- 大多数的模式和原则，都着眼于软件变化的主题
- 大多数的模式都允许系统局部改变独立于其他部分
- 我们常把系统中会变化的部分抽出来封装
- 模式让开发人员之间有共享的语言，能够最大化沟通的价值

---
## 设计原则之四
**为了交互对象之间的松耦合设计而努力**
> 松耦合的设计之所以能让我们建立有弹性的OO系统，能够应对变化，是因为对象之间的互相依赖降到了最低

## 观察者模式（Observer）
在对象之间定义一对多的依赖，这样一来，当一个对象改变状态，依赖它的对象都会收到通知，并自动更新
### 松耦合的威力
**当两个对象之间松耦合，它们依然可以交互，但是不太清楚彼此的细节。
观察者模式提供了一种对象设计，让主题（subject）和观察者（observer）之间松耦合**

## 要点
- 观察者模式定义了对象之间一对多的关系
- 主题（也就是可观察者）用一个共同的接口来更新观察者
- 观察者和可观察者之间用松耦合方式结合（loosecoupling），可观察者不知道观察者的细节，只知道观察者实现了观察者接口
- 使用此模式时，你可从被观察者处推（push）或拉（pull）数据（然而，推的方式被认为更“正确”）

